<!doctype html>
<html lang="en">
{{> layout/header}}
<body>

{{> layout/navbar}}
{{#trainers}}
<div class="container">

    {{#pagePerso}}
        <h2 class="pt-md-5 pb-md-5">    Trainer : {{name}} <img src="{{picture}}" alt="{{name}}" width="30" height="30"/></h2>
        <a class="btn btn-primary" href="{{name}}/fights" role="button">Show fights</a>
        <a class="btn btn-primary" href="{{name}}/arena" role="button">Visit arena</a>

    {{/pagePerso}}

    {{^pagePerso}}

        <h2 class="pt-md-5 pb-md-5">    <a href="trainers/{{name}}">Trainer : {{name}} <img src="{{picture}}" alt="{{name}}" width="30" height="30"/></a> </h2>

    {{/pagePerso}}


    <div id="inventory">
        <h4>Inventory</h4>

        {{#inventory}}
            <span class="badge badge-info"><img src="{{img}}" alt="{{name}}"/> {{name}} </span>
        {{/inventory}}
    </div>

    <div id="wallet">
            <span class="badge badge-warning"> Wallet : {{wallet}} <img src="icons/pokecoin.png" alt="money" width="50" height="50"/></span>
    </div>


    <div class="card-deck">
        {{#team}}
        <div class="col-md-3">
            <div class="card shadow-sm mb-3">
                <div class="card-header">
                    <h4 class="my-0 font-weight-normal">{{pokemonType.name}} <span class="badge badge-secondary">Level {{level}}</span></h4>
                </div>
                <img class="card-img-top" src="{{pokemonType.sprites.front_default}}" alt="Card image cap">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        HP : {{hp}}
                        <div class="progress">
                            <div id="progress_bar" class="progress-bar" role="progressbar" aria-valuenow="{{hp}}" aria-valuemin="0" aria-valuemax="{{pokemonType.stats.hp}}"></div>
                        </div>
                    </li>
                    <li class="list-group-item">Base stats : <span class="badge badge-primary">Speed : {{pokemonType.stats.speed}}</span>
                        <span class="badge badge-primary">Attack : {{pokemonType.stats.attack}}</span>
                        <span class="badge badge-primary">Defense : {{pokemonType.stats.defense}}</span>
                    </li>
                </ul>

            </div>
        </div>
        {{/team}}
    </div>


</div>
{{/trainers}}


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script>
    window.onload = function() {
        var hp = document.getElementById("progress_bar").getAttribute("aria-valuenow");
        var hp_max = document.getElementById("progress_bar").getAttribute("aria-valuemax");
        var value = 100 * hp / hp_max;
        var div = document.getElementById("progress_bar").setAttribute("style", "width=" + value + "%");
        //div.style.width = 100 * hp / hp_max;
    }
</script>
</body>
</html>